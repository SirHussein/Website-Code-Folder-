<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
   
<main id="site-main">
    <div class="container">
        <div class="box-nav d-flex justify-between">
           <div class="filter">
               <a href="/MyBooking"><i class="fas fa-angle-double-left"></i> My Booking</a>
           </div>
        </div>
        <div class="form-title text-center">
            <h2 class="text-dark">Update Booking</h2>
            <p class="text-primary">Use the below form to Update Item Booking</p>
        </div>

      
        
        <div class="form-group">
            <label for="name" class="text-muted"><strong>Name</strong></label><br>
            <input type="text" name="name" value="" placeholder="<%= Item.name %>" disabled="disabled">
        </div>

        <div class="form-group">
            <label for="category" class="text-muted"><strong>Category</strong></label><br>
            <input type="text" name="category" value="" placeholder="<%= Item.category %>" disabled="disabled" >
        </div>
       
    
        <div class="form-group">
            <label for="location" ><strong>location</strong></label><br>
            <input type="text" name="location" value="" placeholder="<%= Item.location %>" disabled="disabled" >
        </div>
        

 <form action="/UpdateBooking/<%= Item._id %>" method="POST" id="UpdateBooking">
    <div class="new_item">

        
        <div class="form-group">
            <label for="bookdate" class="text-muted"><strong>Booking Time</strong></label><br>
        <input class="from-control" type="text" placeholder="<%= Item.bookdate %>" id="bookdate" name="bookdate" disabled="disabled" size="60">
        </div>
    
    <br>
        
        <div class="form-group">
            <label for="returndate" class="text-muted"><strong>Returnning Time</strong></label><br>
        <input class="from-control" type="date" placeholder="<%= Item.returndate %>" id="returndate" name="returndate" >
        </div>


    
        <div class="form-group">
            <button type="submit" class="btn btn-primary">Book</button>
        </div>

      

    </div>
</form>
       
    </div>
    <script>

       // const input = document.getElementById("bookdate")
       // const work = document.getElementById("returndate")

        input.addEventListener("change",(e) => {
        
            const value = e.currentTarget.value
            document.getElementById("returndate").setAttribute('min', value)
            if (value ===""){
                work.disabled = true
            }
            else{
                work.disabled = false
            }
        })
            
    //    console.log('<%= Item.bookdate %>')
        var date = new Date()
        var tdate = date.getDate()
        var mdate = date.getMonth()+1
        var ydate =date.getFullYear()
        if(tdate < 10){
            tdate = '0'+ tdate
        }
        if(mdate < 10){
            mdate = '0'+ mdate
        }max = 0
        var minDate= ydate+"-" + mdate +"-"+ tdate
        document.getElementById("bookdate").setAttribute('min', minDate)
        document.getElementById("returndate").setAttribute('min', minDate)
        let fDate = document.querySelector('#bookdate');
        let tDate = document.querySelector('#returndate');

        fDate.addEventListener('change', function() {
        var max = new Date(fDate.value);
         max.setDate(max.getDate()+20 );
         tDate.max = max.toISOString().split('T')[0];
         
});

        
    </script>
</main>


